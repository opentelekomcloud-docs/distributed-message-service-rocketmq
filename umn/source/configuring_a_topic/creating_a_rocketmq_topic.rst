:original_name: hrm-ug-008.html

.. _hrm-ug-008:

Creating a RocketMQ Topic
=========================

A topic is the basic unit for sending and receiving messages. After creating a RocketMQ instance, you must manually create a topic, and publish and subscribe messages. A message producer sends messages to this topic. A message consumer consumes messages by subscribing to this topic.

Prerequisites
-------------

A RocketMQ instance has been created.

Creating a Topic
----------------

#. Log in to the console.

#. Click |image1| in the upper left corner to select a region.

   DMS for RocketMQ instances in different regions cannot communicate with each other over an intranet. Select a nearest location for low latency and fast access.

#. Click |image2| and choose **Application** > **Distributed Message Service for RocketMQ** to open the console of DMS for RocketMQ.

#. Click a RocketMQ instance to go to the instance details page.

#. In the navigation pane, choose **Topics**.

#. Click **Create Topic**.

#. Configure the topic name and other parameters by referring to :ref:`Table 1 <hrm-ug-008__table186364410350>` or :ref:`Table 2 <hrm-ug-008__table1385242712615>`.


   .. figure:: /_static/images/en-us_image_0000002197269672.png
      :alt: **Figure 1** Creating a topic (RocketMQ 4.8.0)

      **Figure 1** Creating a topic (RocketMQ 4.8.0)


   .. figure:: /_static/images/en-us_image_0000002304271322.png
      :alt: **Figure 2** Creating a topic (RocketMQ 5.x)

      **Figure 2** Creating a topic (RocketMQ 5.x)

   .. _hrm-ug-008__table186364410350:

   .. table:: **Table 1** Topic parameters (RocketMQ 4.8.0)

      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                                                                                                                                                    |
      +===================================+================================================================================================================================================================================================================================================================================================================================================+
      | Topic Name                        | Name of the topic.                                                                                                                                                                                                                                                                                                                             |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | A topic name must meet the following requirements:                                                                                                                                                                                                                                                                                             |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | -  Contains 3 to 64 characters.                                                                                                                                                                                                                                                                                                                |
      |                                   | -  Contains only letters, digits, percent signs (%), vertical bars (|), hyphens (-), and underscores (_).                                                                                                                                                                                                                                      |
      |                                   | -  Cannot start with **rmq_sys\_**.                                                                                                                                                                                                                                                                                                            |
      |                                   | -  Cannot be the same as the following strings:                                                                                                                                                                                                                                                                                                |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   |    -  TBW102                                                                                                                                                                                                                                                                                                                                   |
      |                                   |    -  SCHEDULE_TOPIC_XXXX                                                                                                                                                                                                                                                                                                                      |
      |                                   |    -  BenchmarkTest                                                                                                                                                                                                                                                                                                                            |
      |                                   |    -  RMQ_SYS_TRANS_HALF_TOPIC                                                                                                                                                                                                                                                                                                                 |
      |                                   |    -  RMQ_SYS_TRACE_TOPIC                                                                                                                                                                                                                                                                                                                      |
      |                                   |    -  RMQ_SYS_TRANS_OP_HALF_TOPIC                                                                                                                                                                                                                                                                                                              |
      |                                   |    -  TRANS_CHECK_MAX_TIME_TOPIC                                                                                                                                                                                                                                                                                                               |
      |                                   |    -  SELF_TEST_TOPIC                                                                                                                                                                                                                                                                                                                          |
      |                                   |    -  OFFSET_MOVED_EVENT                                                                                                                                                                                                                                                                                                                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | The topic name must be unique. Otherwise, the topic cannot be created.                                                                                                                                                                                                                                                                         |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | Once the topic is created, you cannot modify its name.                                                                                                                                                                                                                                                                                         |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | A percent (%) or vertical bar (|) contained in a topic name will be converted to an underscore (_) by Cloud Eye. For example, if a topic name is **test%01**, it will be displayed as **test_01** on Cloud Eye.                                                                                                                                |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Permission                        | Permissions of a topic.                                                                                                                                                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | Options:                                                                                                                                                                                                                                                                                                                                       |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | -  **Publish/Subscribe**: Producers can send messages to this topic. Consumers can consume them from this topic.                                                                                                                                                                                                                               |
      |                                   | -  **Publish**: Producers can send messages to the topic. But consumers cannot consume them from this topic.                                                                                                                                                                                                                                   |
      |                                   | -  **Subscribe**: Producers cannot send messages to this topic. But consumers can consume messages from this topic.                                                                                                                                                                                                                            |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | Default: **Publish/Subscribe**                                                                                                                                                                                                                                                                                                                 |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Brokers                           | Specify the broker to create the topic on, and the number of queues in the topic.                                                                                                                                                                                                                                                              |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | If the instance is deployed on multiple brokers, click **Add** to add more brokers and set the number of queues in the topic.                                                                                                                                                                                                                  |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | To add associated brokers, increase the broker quantity. For details, see :ref:`Modifying RocketMQ Specifications <hrm-ug-038>`. Increasing the broker quantity increases the maximum topics supported. For example, increasing the broker quantity from 1 to 2 increases the maximum topics from 4,000 of one broker to 8,000 of two brokers. |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Description                       | Topic description.                                                                                                                                                                                                                                                                                                                             |
      |                                   |                                                                                                                                                                                                                                                                                                                                                |
      |                                   | The value contains 0 to 200 characters.                                                                                                                                                                                                                                                                                                        |
      +-----------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

   .. _hrm-ug-008__table1385242712615:

   .. table:: **Table 2** Topic parameters (RocketMQ 5.x)

      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Parameter                         | Description                                                                                                                                                                                                     |
      +===================================+=================================================================================================================================================================================================================+
      | Topic Name                        | Name of the topic.                                                                                                                                                                                              |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | A topic name must meet the following requirements:                                                                                                                                                              |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | -  Contains 3 to 64 characters.                                                                                                                                                                                 |
      |                                   | -  Contains only letters, digits, percent signs (%), vertical bars (|), hyphens (-), and underscores (_).                                                                                                       |
      |                                   | -  Cannot start with **rmq_sys\_**.                                                                                                                                                                             |
      |                                   | -  Cannot be the same as the following strings:                                                                                                                                                                 |
      |                                   |                                                                                                                                                                                                                 |
      |                                   |    -  TBW102                                                                                                                                                                                                    |
      |                                   |    -  SCHEDULE_TOPIC_XXXX                                                                                                                                                                                       |
      |                                   |    -  BenchmarkTest                                                                                                                                                                                             |
      |                                   |    -  RMQ_SYS_TRANS_HALF_TOPIC                                                                                                                                                                                  |
      |                                   |    -  RMQ_SYS_TRACE_TOPIC                                                                                                                                                                                       |
      |                                   |    -  RMQ_SYS_TRANS_OP_HALF_TOPIC                                                                                                                                                                               |
      |                                   |    -  TRANS_CHECK_MAX_TIME_TOPIC                                                                                                                                                                                |
      |                                   |    -  SELF_TEST_TOPIC                                                                                                                                                                                           |
      |                                   |    -  OFFSET_MOVED_EVENT                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | The topic name must be unique. Otherwise, the topic cannot be created.                                                                                                                                          |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | Once the topic is created, you cannot modify its name.                                                                                                                                                          |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | A percent (%) or vertical bar (|) contained in a topic name will be converted to an underscore (_) by Cloud Eye. For example, if a topic name is **test%01**, it will be displayed as **test_01** on Cloud Eye. |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Message Type                      | Select the message type.                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | Options:                                                                                                                                                                                                        |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | -  **Normal**: Messages that do not have any features of scheduled messages, ordered messages, or transactional messages.                                                                                       |
      |                                   | -  **Scheduled**: Messages that are delivered to consumers only after a specific period after being sent from producers to DMS for RocketMQ.                                                                    |
      |                                   | -  **Ordered**: Messages that are consumed in the exact order that they are produced.                                                                                                                           |
      |                                   | -  **Transactional**: Messages that achieve eventual consistency, delivering distributed transaction processing similar to X/Open XA.                                                                           |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | Default: **Normal**                                                                                                                                                                                             |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
      | Description                       | Topic description.                                                                                                                                                                                              |
      |                                   |                                                                                                                                                                                                                 |
      |                                   | The value contains 0 to 200 characters.                                                                                                                                                                         |
      +-----------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

#. Click **OK**.

.. |image1| image:: /_static/images/en-us_image_0143929918.png
.. |image2| image:: /_static/images/en-us_image_0000001143589128.png
