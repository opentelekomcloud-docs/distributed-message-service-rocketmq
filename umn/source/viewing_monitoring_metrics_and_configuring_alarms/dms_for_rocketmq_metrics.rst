:original_name: hrm-ug-018.html

.. _hrm-ug-018:

DMS for RocketMQ Metrics
========================

Introduction
------------

This section describes the metrics that DMS for RocketMQ reports to Cloud Eye. You can view metrics and alarms by using the DMS for RocketMQ console.

Namespace
---------

SYS.DMS

Instance Metrics
----------------

.. table:: **Table 1** Instance metrics

   +-----------------------+----------------------+-------------------------------------------------------------------------------+-------------+--------+-----------------+------------------------------+------------------------------+
   | Metric ID             | Metric Name          | Description                                                                   | Value Range | Unit   | Conversion Rule | Monitored Object (Dimension) | Monitoring Period (Raw Data) |
   +=======================+======================+===============================================================================+=============+========+=================+==============================+==============================+
   | instance_produce_msg  | Created Messages     | Number of messages received by the instance per minute                        | > 0         | Count  | N/A             | RocketMQ instance            | 1 minute                     |
   +-----------------------+----------------------+-------------------------------------------------------------------------------+-------------+--------+-----------------+------------------------------+------------------------------+
   | instance_consume_msg  | Retrieved Messages   | Number of messages retrieved from the instance per minute                     | > 0         | Count  | N/A             | RocketMQ instance            | 1 minute                     |
   +-----------------------+----------------------+-------------------------------------------------------------------------------+-------------+--------+-----------------+------------------------------+------------------------------+
   | current_topics        | Topics               | Number of topics in the instance                                              | >= 0        | Count  | N/A             | RocketMQ instance            | 1 minute                     |
   |                       |                      |                                                                               |             |        |                 |                              |                              |
   |                       |                      | .. note::                                                                     |             |        |                 |                              |                              |
   |                       |                      |                                                                               |             |        |                 |                              |                              |
   |                       |                      |    This metric is supported for instances purchased on or after May 16, 2022. |             |        |                 |                              |                              |
   +-----------------------+----------------------+-------------------------------------------------------------------------------+-------------+--------+-----------------+------------------------------+------------------------------+
   | current_queues        | Queues               | Number of queues in the instance                                              | >= 0        | Count  | N/A             | RocketMQ instance            | 1 minute                     |
   +-----------------------+----------------------+-------------------------------------------------------------------------------+-------------+--------+-----------------+------------------------------+------------------------------+
   | instance_accumulation | Accumulated Messages | Total number of messages accumulated in all consumer groups of the instance   | >= 0        | Count  | N/A             | RocketMQ instance            | 1 minute                     |
   +-----------------------+----------------------+-------------------------------------------------------------------------------+-------------+--------+-----------------+------------------------------+------------------------------+

Broker Metrics
--------------

.. table:: **Table 2** Broker metrics

   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | Metric ID                    | Metric Name                                     | Description                                                                              | Value Range      | Unit    | Conversion Rule | Monitored Object (Dimension) | Monitoring Period (Raw Data) |
   +==============================+=================================================+==========================================================================================+==================+=========+=================+==============================+==============================+
   | broker_produce_msg           | Created Messages                                | Number of messages received by the broker per minute                                     | > 0              | Count   | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_consume_msg           | Retrieved Messages                              | Number of messages retrieved from the broker per minute                                  | > 0              | Count   | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_produce_rate          | Message Creation Rate                           | Number of messages received by the broker per second                                     | > 0              | Count/s | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_consume_rate          | Message Retrieval Rate                          | Number of messages retrieved from the broker per second                                  | > 0              | Count/s | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_total_bytes_in_rate   | Inbound Traffic                                 | Inbound traffic to the broker per second                                                 | > 0              | Byte/s  | 1024(IEC)       | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_total_bytes_out_rate  | Outbound Traffic                                | Outbound traffic from the broker per second                                              | > 0              | Byte/s  | 1024(IEC)       | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_cpu_core_load         | Average Load per CPU Core                       | Average load of each CPU core in the broker VM                                           | > 0              | N/A     | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_disk_usage            | Disk Capacity Usage                             | Disk usage of the broker VM                                                              | 0-100            | %       | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_memory_usage          | Memory Usage                                    | Memory usage of the broker VM                                                            | 0-100            | %       | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_alive                 | Broker Status                                   | Indicates whether the broker is alive.                                                   | **1**: alive     | N/A     | N/A             | RocketMQ instance broker     | 1 minute                     |
   |                              |                                                 |                                                                                          |                  |         |                 |                              |                              |
   |                              |                                                 |                                                                                          | **0**: not alive |         |                 |                              |                              |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_connections           | Connections                                     | Number of connections used by the VM                                                     | >= 0             | Count   | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_cpu_usage             | CPU Usage                                       | CPU usage on the VM                                                                      | >= 0             | %       | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_disk_read_await       | Average Disk Read Time                          | Average time for each disk I/O read                                                      | >= 0             | ms      | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_disk_write_await      | Average Disk Write Time                         | Average time for each disk I/O write                                                     | >= 0             | ms      | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_produce_p99           | Message Creation Processing (99th Percentile)   | The 99th percentile of time taken to process all creation requests, in ascending order   | >= 0             | ms      | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_produce_p999          | Message Creation Processing (99.9th Percentile) | The 99.9th percentile of time taken to process all creation requests, in ascending order | >= 0             | ms      | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_produce_scheduled_msg | Scheduled Messages Created per Minute           | Number of scheduled messages created on the broker per minute                            | >= 0             | Count   | N/A             | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_disk_read_rate        | Disk Read Speed                                 | Read traffic on the disk                                                                 | >= 0             | Byte/s  | 1024(IEC)       | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+
   | broker_disk_write_rate       | Disk Write Speed                                | Write traffic on the disk                                                                | >= 0             | Byte/s  | 1024(IEC)       | RocketMQ instance broker     | 1 minute                     |
   +------------------------------+-------------------------------------------------+------------------------------------------------------------------------------------------+------------------+---------+-----------------+------------------------------+------------------------------+

Topic Metrics
-------------

.. table:: **Table 3** Topic metrics

   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+
   | Metric ID            | Metric Name            | Description                                            | Value Range | Unit    | Conversion Rule | Monitored Object (Dimension) | Monitoring Period (Raw Data) |
   +======================+========================+========================================================+=============+=========+=================+==============================+==============================+
   | topic_produce_msg    | Created Messages       | Number of messages received by the topic per minute    | > 0         | Count   | N/A             | RocketMQ instance queue      | 1 minute                     |
   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+
   | topic_consume_msg    | Retrieved Messages     | Number of messages retrieved from the topic per minute | > 0         | Count   | N/A             | RocketMQ instance queue      | 1 minute                     |
   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+
   | topic_produce_rate   | Message Creation Rate  | Number of messages received by the topic per second    | > 0         | Count/s | N/A             | RocketMQ instance queue      | 1 minute                     |
   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+
   | topic_consume_rate   | Message Retrieval Rate | Number of messages retrieved from the topic per second | > 0         | Count/s | N/A             | RocketMQ instance queue      | 1 minute                     |
   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+
   | topic_bytes_in_rate  | Message Creation       | Message creation traffic of the topic                  | >= 0        | Byte/s  | 1024(IEC)       | RocketMQ instance queue      | 1 minute                     |
   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+
   | topic_bytes_out_rate | Message Retrieval      | Message retrieval traffic of the topic                 | >= 0        | Byte/s  | 1024(IEC)       | RocketMQ instance queue      | 1 minute                     |
   +----------------------+------------------------+--------------------------------------------------------+-------------+---------+-----------------+------------------------------+------------------------------+

Consumer Group Metrics
----------------------

.. table:: **Table 4** Consumer group metrics

   +--------------------------+------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------+-----------------+---------------------------------------+------------------------------+
   | Metric ID                | Metric Name            | Description                                                                                                        | Value Range | Unit    | Conversion Rule | Monitored Object (Dimension)          | Monitoring Period (Raw Data) |
   +==========================+========================+====================================================================================================================+=============+=========+=================+=======================================+==============================+
   | group_consume_msg        | Retrieved Messages     | Number of messages retrieved by the consumer group per minute                                                      | > 0         | Count   | N/A             | Consumer group of a RocketMQ instance | 1 minute                     |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        | .. note::                                                                                                          |             |         |                 |                                       |                              |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        |    This metric is available only when **Topic** is set to **All topics** on the **By Consumer Group** tab page.    |             |         |                 |                                       |                              |
   +--------------------------+------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------+-----------------+---------------------------------------+------------------------------+
   | group_accumulation       | Available Messages     | Number of messages accumulated in the consumer group                                                               | > 0         | Count   | N/A             | Consumer group of a RocketMQ instance | 1 minute                     |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        | Unit: count                                                                                                        |             |         |                 |                                       |                              |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        | .. note::                                                                                                          |             |         |                 |                                       |                              |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        |    This metric is available only when **Topic** is set to **All topics** on the **By Consumer Group** tab page.    |             |         |                 |                                       |                              |
   +--------------------------+------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------+-----------------+---------------------------------------+------------------------------+
   | group_topic_consume_msg  | Retrieved Messages     | Number of messages in the specified topic that are retrieved by the consumer group per minute                      | > 0         | Count   | N/A             | Consumer group of a RocketMQ instance | 1 minute                     |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        | .. note::                                                                                                          |             |         |                 |                                       |                              |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        |    This metric is available only when **Topic** is set to a specified topic on the **By Consumer Group** tab page. |             |         |                 |                                       |                              |
   +--------------------------+------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------+-----------------+---------------------------------------+------------------------------+
   | group_topic_consume_rate | Message Retrieval Rate | Number of messages in the specified topic that are retrieved by the consumer group per second                      | > 0         | Count/s | N/A             | Consumer group of a RocketMQ instance | 1 minute                     |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        | .. note::                                                                                                          |             |         |                 |                                       |                              |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        |    This metric is available only when **Topic** is set to a specified topic on the **By Consumer Group** tab page. |             |         |                 |                                       |                              |
   +--------------------------+------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------+-----------------+---------------------------------------+------------------------------+
   | group_topic_accumulation | Available Messages     | Number of messages in a specific topic                                                                             | > 0         | Count   | N/A             | Consumer group of a RocketMQ instance | 1 minute                     |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        | .. note::                                                                                                          |             |         |                 |                                       |                              |
   |                          |                        |                                                                                                                    |             |         |                 |                                       |                              |
   |                          |                        |    This metric is available only when **Topic** is set to a specified topic on the **By Consumer Group** tab page. |             |         |                 |                                       |                              |
   +--------------------------+------------------------+--------------------------------------------------------------------------------------------------------------------+-------------+---------+-----------------+---------------------------------------+------------------------------+

Dead Letter Queue Metrics
-------------------------

.. table:: **Table 5** Dead letter queue metrics

   +------------------+-----------------------------------+---------------------------------------------+-------------+-------+-----------------+------------------------------------------+------------------------------+
   | Metric ID        | Metric Name                       | Description                                 | Value Range | Unit  | Conversion Rule | Monitored Object (Dimension)             | Monitoring Period (Raw Data) |
   +==================+===================================+=============================================+=============+=======+=================+==========================================+==============================+
   | dlq_accumulation | Messages in the Dead Letter Queue | Number of messages in the dead letter queue | >= 0        | Count | N/A             | Dead letter queue of a RocketMQ instance | 1 minute                     |
   +------------------+-----------------------------------+---------------------------------------------+-------------+-------+-----------------+------------------------------------------+------------------------------+

Dimensions
----------

======================== ===========================================
Key                      Value
======================== ===========================================
reliablemq_instance_id   RocketMQ instance
reliablemq_topics        RocketMQ instance queue
reliablemq_groups        Consumer group of a RocketMQ instance
reliablemq_groups_topics Consumer group of a RocketMQ instance queue
reliablemq_dlq_topics    Dead letter queue of a RocketMQ instance
======================== ===========================================
